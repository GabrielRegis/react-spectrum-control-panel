{"remainingRequest":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/thread-loader/dist/cjs.js??ref--7-1!/Users/gabrielregis/react-spectrum-control-panel/node_modules/babel-loader/lib/index.js??ref--7-2!/Users/gabrielregis/react-spectrum-control-panel/src/containers/views/SocketDebugger/Browse/index.tsx","dependencies":[{"path":"/Users/gabrielregis/react-spectrum-control-panel/src/containers/views/SocketDebugger/Browse/index.tsx","mtime":1560467078000},{"path":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/cache-loader/dist/cjs.js","mtime":1561315137663},{"path":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/thread-loader/dist/cjs.js","mtime":1561315143281},{"path":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/babel-loader/lib/index.js","mtime":1561315137554}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyByZWFjdGlvbiB9IGZyb20gJ21vYngnOwppbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gJ21vYngtcmVhY3QnOwppbXBvcnQgeyBBdXRvU2l6ZXIgfSBmcm9tICdyZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0F1dG9TaXplcic7CmltcG9ydCB7IENlbGxNZWFzdXJlckNhY2hlLCBDZWxsTWVhc3VyZXIgfSBmcm9tICdyZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NlbGxNZWFzdXJlcic7CmltcG9ydCB7IExpc3QgYXMgVkxpc3QgfSBmcm9tICdyZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0xpc3QnOwppbXBvcnQgKiBhcyBzdHlsZXMgZnJvbSAnLi9pbmRleC5zY3NzJzsKaW1wb3J0IHVzZVJvb3RTdG9yZSBmcm9tICdAc3RvcmUvdXNlUm9vdFN0b3JlJzsKaW1wb3J0IHsgdXNlT25Nb3VudCB9IGZyb20gJ0B1dGlscy9yZWFjdEV4dCc7CmltcG9ydCBNZXNzYWdlIGZyb20gJy4vTWVzc2FnZSc7CgpmdW5jdGlvbiBCcm93c2UoKSB7CiAgdmFyIF91c2VSb290U3RvcmUgPSB1c2VSb290U3RvcmUoKSwKICAgICAgc29ja2V0U3RvcmUgPSBfdXNlUm9vdFN0b3JlLnNvY2tldFN0b3JlOwoKICB2YXIgdkxpc3QgPSBSZWFjdC51c2VSZWYobnVsbCk7CiAgdmFyIG1lYXN1cmVDYWNoZSA9IG5ldyBDZWxsTWVhc3VyZXJDYWNoZSh7CiAgICBmaXhlZFdpZHRoOiB0cnVlLAogICAgbWluSGVpZ2h0OiA0MwogIH0pOwoKICBmdW5jdGlvbiBoYW5kbGVNZXNzYWdlc0NoYW5nZWQobGVuKSB7CiAgICBpZiAobGVuID09PSAwKSB7CiAgICAgIHJldHVybiBtZWFzdXJlQ2FjaGUuY2xlYXJBbGwoKTsKICAgIH0KCiAgICBpZiAodkxpc3QuY3VycmVudCkgewogICAgICB2TGlzdC5jdXJyZW50LnNjcm9sbFRvUm93KGxlbiAtIDEpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gbGlzdGVuTWVzc2FnZXNMZW4oKSB7CiAgICByZXR1cm4gcmVhY3Rpb24oKCkgPT4gc29ja2V0U3RvcmUubWVzc2FnZXMubGVuZ3RoLCBoYW5kbGVNZXNzYWdlc0NoYW5nZWQpOwogIH0KCiAgdXNlT25Nb3VudChsaXN0ZW5NZXNzYWdlc0xlbik7CgogIGZ1bmN0aW9uIHJlbmRlckl0ZW0oX3JlZikgewogICAgdmFyIGluZGV4ID0gX3JlZi5pbmRleCwKICAgICAgICBrZXkgPSBfcmVmLmtleSwKICAgICAgICBwYXJlbnQgPSBfcmVmLnBhcmVudCwKICAgICAgICBzdHlsZSA9IF9yZWYuc3R5bGU7CiAgICB2YXIgaXRlbSA9IHNvY2tldFN0b3JlLm1lc3NhZ2VzW2luZGV4XTsKICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENlbGxNZWFzdXJlciwgewogICAgICBjYWNoZTogbWVhc3VyZUNhY2hlLAogICAgICBjb2x1bW5JbmRleDogMCwKICAgICAga2V5OiBrZXksCiAgICAgIHBhcmVudDogcGFyZW50LAogICAgICByb3dJbmRleDogaW5kZXgKICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVzc2FnZSwgewogICAgICBzdHlsZTogc3R5bGUsCiAgICAgIG1lc3NhZ2U6IGl0ZW0KICAgIH0pKTsKICB9CgogIHZhciByb3dDb3VudCA9IHNvY2tldFN0b3JlLm1lc3NhZ2VzLmxlbmd0aDsKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiBzdHlsZXMuYnJvd3NlCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChBdXRvU2l6ZXIsIG51bGwsIChfcmVmMikgPT4gewogICAgdmFyIHdpZHRoID0gX3JlZjIud2lkdGgsCiAgICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0OwogICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVkxpc3QsIHsKICAgICAgd2lkdGg6IHdpZHRoLAogICAgICBoZWlnaHQ6IGhlaWdodCwKICAgICAgcmVmOiB2TGlzdCwKICAgICAgb3ZlcnNjYW5Sb3dDb3VudDogMCwKICAgICAgcm93Q291bnQ6IHJvd0NvdW50LAogICAgICBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGU6IG1lYXN1cmVDYWNoZSwKICAgICAgcm93SGVpZ2h0OiBtZWFzdXJlQ2FjaGUucm93SGVpZ2h0LAogICAgICByb3dSZW5kZXJlcjogcmVuZGVySXRlbQogICAgfSk7CiAgfSkpOwp9CgpleHBvcnQgZGVmYXVsdCBvYnNlcnZlcihCcm93c2UpOw=="},{"version":3,"sources":["/Users/gabrielregis/react-spectrum-control-panel/src/containers/views/SocketDebugger/Browse/index.tsx"],"names":["React","reaction","observer","AutoSizer","CellMeasurerCache","CellMeasurer","List","VList","styles","useRootStore","useOnMount","Message","Browse","socketStore","vList","useRef","measureCache","fixedWidth","minHeight","handleMessagesChanged","len","clearAll","current","scrollToRow","listenMessagesLen","messages","length","renderItem","index","key","parent","style","item","rowCount","browse","width","height","rowHeight"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,SAAT,QAA0B,qCAA1B;AACA,SAASC,iBAAT,EAA4BC,YAA5B,QAAgD,wCAAhD;AACA,SAASC,IAAI,IAAIC,KAAjB,QAA8B,gCAA9B;AAEA,OAAO,KAAKC,MAAZ,MAAwB,cAAxB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,SAASC,MAAT,GAAkB;AAAA,sBACUH,YAAY,EADtB;AAAA,MACNI,WADM,iBACNA,WADM;;AAGd,MAAMC,KAAK,GAAGd,KAAK,CAACe,MAAN,CAAoB,IAApB,CAAd;AACA,MAAMC,YAAY,GAAG,IAAIZ,iBAAJ,CAAsB;AACvCa,IAAAA,UAAU,EAAE,IAD2B;AAEvCC,IAAAA,SAAS,EAAE;AAF4B,GAAtB,CAArB;;AAKA,WAASC,qBAAT,CAA+BC,GAA/B,EAA4C;AACxC,QAAIA,GAAG,KAAK,CAAZ,EAAe;AACX,aAAOJ,YAAY,CAACK,QAAb,EAAP;AACH;;AACD,QAAIP,KAAK,CAACQ,OAAV,EAAmB;AACfR,MAAAA,KAAK,CAACQ,OAAN,CAAcC,WAAd,CAA0BH,GAAG,GAAG,CAAhC;AACH;AACJ;;AAED,WAASI,iBAAT,GAA6B;AACzB,WAAOvB,QAAQ,CAAC,MAAMY,WAAW,CAACY,QAAZ,CAAqBC,MAA5B,EAAoCP,qBAApC,CAAf;AACH;;AAEDT,EAAAA,UAAU,CAACc,iBAAD,CAAV;;AAEA,WAASG,UAAT,OAAmD;AAAA,QAA7BC,KAA6B,QAA7BA,KAA6B;AAAA,QAAtBC,GAAsB,QAAtBA,GAAsB;AAAA,QAAjBC,MAAiB,QAAjBA,MAAiB;AAAA,QAATC,KAAS,QAATA,KAAS;AAC/C,QAAMC,IAAI,GAAGnB,WAAW,CAACY,QAAZ,CAAqBG,KAArB,CAAb;AACA,WACI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAEZ,YAArB;AAAmC,MAAA,WAAW,EAAE,CAAhD;AAAmD,MAAA,GAAG,EAAEa,GAAxD;AAA6D,MAAA,MAAM,EAAEC,MAArE;AAA6E,MAAA,QAAQ,EAAEF;AAAvF,OACI,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEG,KAAhB;AAAuB,MAAA,OAAO,EAAEC;AAAhC,MADJ,CADJ;AAKH;;AACD,MAAMC,QAAQ,GAAGpB,WAAW,CAACY,QAAZ,CAAqBC,MAAtC;AACA,SACI;AAAK,IAAA,SAAS,EAAElB,MAAM,CAAC0B;AAAvB,KACI,oBAAC,SAAD,QACK;AAAA,QAAGC,KAAH,SAAGA,KAAH;AAAA,QAAUC,MAAV,SAAUA,MAAV;AAAA,WACG,oBAAC,KAAD;AACI,MAAA,KAAK,EAAED,KADX;AAEI,MAAA,MAAM,EAAEC,MAFZ;AAGI,MAAA,GAAG,EAAEtB,KAHT;AAII,MAAA,gBAAgB,EAAE,CAJtB;AAKI,MAAA,QAAQ,EAAEmB,QALd;AAMI,MAAA,wBAAwB,EAAEjB,YAN9B;AAOI,MAAA,SAAS,EAAEA,YAAY,CAACqB,SAP5B;AAQI,MAAA,WAAW,EAAEV;AARjB,MADH;AAAA,GADL,CADJ,CADJ;AAkBH;;AAED,eAAezB,QAAQ,CAACU,MAAD,CAAvB","sourcesContent":["import * as React from 'react'\nimport { reaction } from 'mobx'\nimport { observer } from 'mobx-react'\nimport { AutoSizer } from 'react-virtualized/dist/es/AutoSizer'\nimport { CellMeasurerCache, CellMeasurer } from 'react-virtualized/dist/es/CellMeasurer'\nimport { List as VList } from 'react-virtualized/dist/es/List'\n\nimport * as styles from './index.scss'\nimport useRootStore from '@store/useRootStore'\nimport { useOnMount } from '@utils/reactExt'\nimport Message from './Message'\n\nfunction Browse() {\n    const { socketStore } = useRootStore()\n\n    const vList = React.useRef<VList>(null)\n    const measureCache = new CellMeasurerCache({\n        fixedWidth: true,\n        minHeight: 43\n    })\n\n    function handleMessagesChanged(len: number) {\n        if (len === 0) {\n            return measureCache.clearAll()\n        }\n        if (vList.current) {\n            vList.current.scrollToRow(len - 1)\n        }\n    }\n\n    function listenMessagesLen() {\n        return reaction(() => socketStore.messages.length, handleMessagesChanged)\n    }\n\n    useOnMount(listenMessagesLen)\n\n    function renderItem({ index, key, parent, style }) {\n        const item = socketStore.messages[index]\n        return (\n            <CellMeasurer cache={measureCache} columnIndex={0} key={key} parent={parent} rowIndex={index}>\n                <Message style={style} message={item} />\n            </CellMeasurer>\n        )\n    }\n    const rowCount = socketStore.messages.length\n    return (\n        <div className={styles.browse}>\n            <AutoSizer>\n                {({ width, height }) => (\n                    <VList\n                        width={width}\n                        height={height}\n                        ref={vList}\n                        overscanRowCount={0}\n                        rowCount={rowCount}\n                        deferredMeasurementCache={measureCache}\n                        rowHeight={measureCache.rowHeight}\n                        rowRenderer={renderItem}\n                    />\n                )}\n            </AutoSizer>\n        </div>\n    )\n}\n\nexport default observer(Browse)\n"]}]}