{"remainingRequest":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/thread-loader/dist/cjs.js??ref--7-1!/Users/gabrielregis/react-spectrum-control-panel/node_modules/babel-loader/lib/index.js??ref--7-2!/Users/gabrielregis/react-spectrum-control-panel/src/containers/views/SocketDebugger/Handler/Send.tsx","dependencies":[{"path":"/Users/gabrielregis/react-spectrum-control-panel/src/containers/views/SocketDebugger/Handler/Send.tsx","mtime":1560467078000},{"path":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/cache-loader/dist/cjs.js","mtime":1561315137663},{"path":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/thread-loader/dist/cjs.js","mtime":1561315143281},{"path":"/Users/gabrielregis/react-spectrum-control-panel/node_modules/babel-loader/lib/index.js","mtime":1561315137554}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2wiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJhbnRkL2xpYi9tb2RhbC9zdHlsZSI7CmltcG9ydCBfTW9kYWwgZnJvbSAiYW50ZC9saWIvbW9kYWwiOwppbXBvcnQgImFudGQvbGliL2lucHV0L3N0eWxlIjsKaW1wb3J0IF9JbnB1dCBmcm9tICJhbnRkL2xpYi9pbnB1dCI7CmltcG9ydCAiYW50ZC9saWIvcG9wY29uZmlybS9zdHlsZSI7CmltcG9ydCBfUG9wY29uZmlybSBmcm9tICJhbnRkL2xpYi9wb3Bjb25maXJtIjsKaW1wb3J0ICJhbnRkL2xpYi9idXR0b24vc3R5bGUiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJhbnRkL2xpYi9idXR0b24iOwppbXBvcnQgImFudGQvbGliL2F1dG8tY29tcGxldGUvc3R5bGUiOwppbXBvcnQgX0F1dG9Db21wbGV0ZSBmcm9tICJhbnRkL2xpYi9hdXRvLWNvbXBsZXRlIjsKaW1wb3J0ICJhbnRkL2xpYi9tZXNzYWdlL3N0eWxlIjsKaW1wb3J0IF9tZXNzYWdlIGZyb20gImFudGQvbGliL21lc3NhZ2UiOwoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnbW9ieC1yZWFjdCc7CmltcG9ydCBSZWFjdEpzb24gZnJvbSAncmVhY3QtanNvbi12aWV3JzsKaW1wb3J0ICogYXMgc3R5bGVzIGZyb20gJy4vaW5kZXguc2Nzcyc7CmltcG9ydCB1c2VSb290U3RvcmUgZnJvbSAnQHN0b3JlL3VzZVJvb3RTdG9yZSc7CmltcG9ydCB7IExPQ0FMU1RPUkFHRV9LRVlTIH0gZnJvbSAnQGNvbnN0YW50cy9pbmRleCc7CmltcG9ydCB7IERBVEFfRk9STUFUUyB9IGZyb20gJ0Bjb25zdGFudHMvc29ja2V0JzsKaW1wb3J0IHsgc2VuZCB9IGZyb20gJ0BzZXJ2aWNlcy93ZWJzb2NrZXQnOwp2YXIgbG9jYWxTb2NrZXRJT0V2ZW50cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMU1RPUkFHRV9LRVlTLlNPQ0tFVF9JT19FVkVOVFMpOwp2YXIgaW5pdGlhbFNvY2tldElPRXZlbnRzID0gbG9jYWxTb2NrZXRJT0V2ZW50cyA/IEpTT04ucGFyc2UobG9jYWxTb2NrZXRJT0V2ZW50cykgOiBbXTsKCmlmIChpbml0aWFsU29ja2V0SU9FdmVudHMubGVuZ3RoID4gMzApIHsKICBpbml0aWFsU29ja2V0SU9FdmVudHMgPSBpbml0aWFsU29ja2V0SU9FdmVudHMuc2xpY2UoMCwgMzApOwp9CgpmdW5jdGlvbiBTZW5kKCkgewogIHZhciBfdXNlUm9vdFN0b3JlID0gdXNlUm9vdFN0b3JlKCksCiAgICAgIHNvY2tldFN0b3JlID0gX3VzZVJvb3RTdG9yZS5zb2NrZXRTdG9yZTsKCiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKCcnKSwKICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksCiAgICAgIGNvbnRlbnQgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLAogICAgICBzZXRDb250ZW50ID0gX1JlYWN0JHVzZVN0YXRlMlsxXTsKCiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZSgnJyksCiAgICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSwKICAgICAgdGV4dENvbnRlbnQgPSBfUmVhY3QkdXNlU3RhdGU0WzBdLAogICAgICBzZXRUZXh0Q29udGVudCA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07CgogIHZhciBfUmVhY3QkdXNlU3RhdGU1ID0gUmVhY3QudXNlU3RhdGUoe30pLAogICAgICBfUmVhY3QkdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNSwgMiksCiAgICAgIGpzb25Db250ZW50ID0gX1JlYWN0JHVzZVN0YXRlNlswXSwKICAgICAgc2V0SnNvbkNvbnRlbnQgPSBfUmVhY3QkdXNlU3RhdGU2WzFdOwoKICB2YXIgX1JlYWN0JHVzZVN0YXRlNyA9IFJlYWN0LnVzZVN0YXRlKCcnKSwKICAgICAgX1JlYWN0JHVzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTcsIDIpLAogICAgICBzb2NrZXRJT0V2ZW50ID0gX1JlYWN0JHVzZVN0YXRlOFswXSwKICAgICAgc2V0U29ja2V0SU9FdmVudCA9IF9SZWFjdCR1c2VTdGF0ZThbMV07CgogIHZhciBfUmVhY3QkdXNlU3RhdGU5ID0gUmVhY3QudXNlU3RhdGUoaW5pdGlhbFNvY2tldElPRXZlbnRzKSwKICAgICAgX1JlYWN0JHVzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU5LCAyKSwKICAgICAgc29ja2V0SU9FdmVudHMgPSBfUmVhY3QkdXNlU3RhdGUxMFswXSwKICAgICAgc2V0U29ja2V0SU9FdmVudHMgPSBfUmVhY3QkdXNlU3RhdGUxMFsxXTsKCiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTExID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLAogICAgICBfUmVhY3QkdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTExLCAyKSwKICAgICAgbW9kYWxWaXNpYmxlID0gX1JlYWN0JHVzZVN0YXRlMTJbMF0sCiAgICAgIHNldE1vZGFsVmlzaWJsZSA9IF9SZWFjdCR1c2VTdGF0ZTEyWzFdOwoKICB2YXIgY2FuU2VuZCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gewogICAgaWYgKHNvY2tldFN0b3JlLmlzU29ja2V0SU8gJiYgIXNvY2tldElPRXZlbnQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiBzb2NrZXRTdG9yZS5zb2NrZXRJc0Nvbm5lY3RlZDsKICB9LCBbc29ja2V0U3RvcmUuaXNTb2NrZXRJTywgc29ja2V0SU9FdmVudCwgc29ja2V0U3RvcmUuc29ja2V0SXNDb25uZWN0ZWRdKTsKICB2YXIgc2VuZGluZ0NvbnRlbnQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHNvY2tldFN0b3JlLmRhdGFGb3JtYXQgPT09IERBVEFfRk9STUFUU1swXSA/IGpzb25Db250ZW50IDogdGV4dENvbnRlbnQsIFtzb2NrZXRTdG9yZS5kYXRhRm9ybWF0LCBqc29uQ29udGVudCwgdGV4dENvbnRlbnRdKTsKCiAgZnVuY3Rpb24gdG9nZ2xlTW9kYWxWaXNpYmxlKCkgewogICAgc2V0TW9kYWxWaXNpYmxlKHZpc2libGUgPT4gIXZpc2libGUpOwogIH0KCiAgZnVuY3Rpb24gaGFuZGxlT0soKSB7CiAgICB0cnkgewogICAgICBzZXRKc29uQ29udGVudChKU09OLnBhcnNlKGNvbnRlbnQpKTsKICAgICAgdG9nZ2xlTW9kYWxWaXNpYmxlKCk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnIpOwoKICAgICAgX21lc3NhZ2UuZGVzdHJveSgpOwoKICAgICAgX21lc3NhZ2UuZXJyb3IoJ1BsZWFzZSBpbnB1dCBqc29uIHN0cmluZyEnKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHsKICAgIGlmICghc29ja2V0U3RvcmUuaXNTb2NrZXRJTykgewogICAgICByZXR1cm4gc2VuZChudWxsLCBzZW5kaW5nQ29udGVudCk7CiAgICB9IGVsc2UgaWYgKCFzb2NrZXRJT0V2ZW50KSB7CiAgICAgIF9tZXNzYWdlLmRlc3Ryb3koKTsKCiAgICAgIHJldHVybiBfbWVzc2FnZS5lcnJvcignUGxlYXNlIGlucHV0IGV2ZW50IG5hbWUhJyk7CiAgICB9CgogICAgaWYgKCFzb2NrZXRJT0V2ZW50cy5pbmNsdWRlcyhzb2NrZXRJT0V2ZW50KSkgewogICAgICB2YXIgbmV3U29ja2V0SU9FdmVudHMgPSBbc29ja2V0SU9FdmVudCwgLi4uc29ja2V0SU9FdmVudHNdOwogICAgICBzZXRTb2NrZXRJT0V2ZW50cyhuZXdTb2NrZXRJT0V2ZW50cyk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMU1RPUkFHRV9LRVlTLlNPQ0tFVF9JT19FVkVOVFMsIEpTT04uc3RyaW5naWZ5KG5ld1NvY2tldElPRXZlbnRzKSk7CiAgICB9CgogICAgc2VuZChzb2NrZXRJT0V2ZW50LCBzZW5kaW5nQ29udGVudCk7CiAgfQoKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgc29ja2V0U3RvcmUuaXNTb2NrZXRJTyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KF9BdXRvQ29tcGxldGUsIHsKICAgIGNsYXNzTmFtZTogc3R5bGVzLmF1dG9Db21wbGV0ZSwKICAgIGRhdGFTb3VyY2U6IHNvY2tldElPRXZlbnRzLAogICAgcGxhY2Vob2xkZXI6ICJJbnB1dCBldmVudCBuYW1lIiwKICAgIHZhbHVlOiBzb2NrZXRJT0V2ZW50LAogICAgb25DaGFuZ2U6IGUgPT4gc2V0U29ja2V0SU9FdmVudChlKSwKICAgIGZpbHRlck9wdGlvbjogKGlucHV0VmFsdWUsIG9wdGlvbikgPT4gb3B0aW9uLnByb3BzLmNoaWxkcmVuLnRvVXBwZXJDYXNlKCkuaW5jbHVkZXMoaW5wdXRWYWx1ZS50b1VwcGVyQ2FzZSgpKQogIH0pLCBzb2NrZXRTdG9yZS5kYXRhRm9ybWF0ID09PSBEQVRBX0ZPUk1BVFNbMF0gPyBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6IHN0eWxlcy5jb250ZW50CiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiBzdHlsZXMucmVzZXQKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KF9Qb3Bjb25maXJtLCB7CiAgICBwbGFjZW1lbnQ6ICJ0b3BMZWZ0IiwKICAgIHRpdGxlOiAiQ29uZmlybSB0byByZXNldD8iLAogICAgb25Db25maXJtOiAoKSA9PiBzZXRKc29uQ29udGVudCh7fSkKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KF9CdXR0b24sIG51bGwsICJSZXNldCIpKSwgUmVhY3QuY3JlYXRlRWxlbWVudChfQnV0dG9uLCB7CiAgICBjbGFzc05hbWU6IHN0eWxlcy5idG5Db3ZlciwKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIG9uQ2xpY2s6IHRvZ2dsZU1vZGFsVmlzaWJsZQogIH0sICJDdXN0b20iKSwgUmVhY3QuY3JlYXRlRWxlbWVudChfTW9kYWwsIHsKICAgIHRpdGxlOiAiQ3VzdG9tIGRhdGEiLAogICAgc3R5bGU6IHsKICAgICAgdG9wOiAyMAogICAgfSwKICAgIHZpc2libGU6IG1vZGFsVmlzaWJsZSwKICAgIG9uT2s6IGhhbmRsZU9LLAogICAgb25DYW5jZWw6IHRvZ2dsZU1vZGFsVmlzaWJsZQogIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX0lucHV0LlRleHRBcmVhLCB7CiAgICBwbGFjZWhvbGRlcjogIlBsZWFzZSBpbnB1dCBqc29uIHN0cmluZyIsCiAgICBhdXRvc2l6ZTogewogICAgICBtaW5Sb3dzOiA0LAogICAgICBtYXhSb3dzOiAxMAogICAgfSwKICAgIHZhbHVlOiBjb250ZW50LAogICAgb25DaGFuZ2U6IChfcmVmKSA9PiB7CiAgICAgIHZhciB0YXJnZXQgPSBfcmVmLnRhcmdldDsKICAgICAgcmV0dXJuIHNldENvbnRlbnQodGFyZ2V0LnZhbHVlKTsKICAgIH0KICB9KSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0SnNvbiwgewogICAgbmFtZTogZmFsc2UsCiAgICB0aGVtZTogIm1vbm9rYWkiLAogICAgc3R5bGU6IHsKICAgICAgcGFkZGluZzogMTAsCiAgICAgIG1pbkhlaWdodDogMTUwLAogICAgICBtYXhIZWlnaHQ6IDUwMCwKICAgICAgb3ZlcmZsb3c6ICdhdXRvJywKICAgICAgYm9yZGVyUmFkaXVzOiAzLAogICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLAogICAgICB3b3JkQnJlYWs6ICdicmVhay1hbGwnCiAgICB9LAogICAgb25BZGQ6IChfcmVmMikgPT4gewogICAgICB2YXIgdXBkYXRlZF9zcmMgPSBfcmVmMi51cGRhdGVkX3NyYzsKICAgICAgcmV0dXJuIHNldEpzb25Db250ZW50KHVwZGF0ZWRfc3JjKTsKICAgIH0sCiAgICBvbkVkaXQ6IChfcmVmMykgPT4gewogICAgICB2YXIgdXBkYXRlZF9zcmMgPSBfcmVmMy51cGRhdGVkX3NyYzsKICAgICAgcmV0dXJuIHNldEpzb25Db250ZW50KHVwZGF0ZWRfc3JjKTsKICAgIH0sCiAgICBvbkRlbGV0ZTogKF9yZWY0KSA9PiB7CiAgICAgIHZhciB1cGRhdGVkX3NyYyA9IF9yZWY0LnVwZGF0ZWRfc3JjOwogICAgICByZXR1cm4gc2V0SnNvbkNvbnRlbnQodXBkYXRlZF9zcmMpOwogICAgfSwKICAgIHNyYzoganNvbkNvbnRlbnQKICB9KSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KF9JbnB1dC5UZXh0QXJlYSwgewogICAgY2xhc3NOYW1lOiBzdHlsZXMudGV4dENvbnRlbnQsCiAgICBwbGFjZWhvbGRlcjogIklucHV0IHlvdXIgc2VuZGluZyBjb250ZW50IiwKICAgIGF1dG9zaXplOiB7CiAgICAgIG1pblJvd3M6IDQsCiAgICAgIG1heFJvd3M6IDEwCiAgICB9LAogICAgdmFsdWU6IHRleHRDb250ZW50LAogICAgb25DaGFuZ2U6IChfcmVmNSkgPT4gewogICAgICB2YXIgdGFyZ2V0ID0gX3JlZjUudGFyZ2V0OwogICAgICByZXR1cm4gc2V0VGV4dENvbnRlbnQodGFyZ2V0LnZhbHVlKTsKICAgIH0KICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChfQnV0dG9uLCB7CiAgICBibG9jazogdHJ1ZSwKICAgIHNpemU6ICJsYXJnZSIsCiAgICBkaXNhYmxlZDogIWNhblNlbmQsCiAgICB0eXBlOiAicHJpbWFyeSIsCiAgICBvbkNsaWNrOiBoYW5kbGVTdWJtaXQKICB9LCAiU2VuZCIpKTsKfQoKZXhwb3J0IGRlZmF1bHQgb2JzZXJ2ZXIoU2VuZCk7"},{"version":3,"sources":["/Users/gabrielregis/react-spectrum-control-panel/src/containers/views/SocketDebugger/Handler/Send.tsx"],"names":["React","observer","ReactJson","styles","useRootStore","LOCALSTORAGE_KEYS","DATA_FORMATS","send","localSocketIOEvents","localStorage","getItem","SOCKET_IO_EVENTS","initialSocketIOEvents","JSON","parse","length","slice","Send","socketStore","useState","content","setContent","textContent","setTextContent","jsonContent","setJsonContent","socketIOEvent","setSocketIOEvent","socketIOEvents","setSocketIOEvents","modalVisible","setModalVisible","canSend","useMemo","isSocketIO","socketIsConnected","sendingContent","dataFormat","toggleModalVisible","visible","handleOK","err","console","error","destroy","handleSubmit","includes","newSocketIOEvents","setItem","stringify","autoComplete","e","inputValue","option","props","children","toUpperCase","reset","btnCover","top","minRows","maxRows","target","value","padding","minHeight","maxHeight","overflow","borderRadius","wordWrap","wordBreak","updated_src"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { observer } from 'mobx-react'\nimport { Button, AutoComplete, Popconfirm, Modal, Input, message } from 'antd'\nimport ReactJson from 'react-json-view'\n\nimport * as styles from './index.scss'\nimport useRootStore from '@store/useRootStore'\nimport { LOCALSTORAGE_KEYS } from '@constants/index'\nimport { DATA_FORMATS } from '@constants/socket'\nimport { send } from '@services/websocket'\n\nconst localSocketIOEvents = localStorage.getItem(LOCALSTORAGE_KEYS.SOCKET_IO_EVENTS)\nlet initialSocketIOEvents: string[] = localSocketIOEvents ? JSON.parse(localSocketIOEvents) : []\nif (initialSocketIOEvents.length > 30) {\n    initialSocketIOEvents = initialSocketIOEvents.slice(0, 30)\n}\n\nfunction Send() {\n    const { socketStore } = useRootStore()\n\n    const [content, setContent] = React.useState('')\n    const [textContent, setTextContent] = React.useState('')\n    const [jsonContent, setJsonContent] = React.useState<PlainObject>({})\n    const [socketIOEvent, setSocketIOEvent] = React.useState('')\n    const [socketIOEvents, setSocketIOEvents] = React.useState(initialSocketIOEvents)\n    const [modalVisible, setModalVisible] = React.useState(false)\n\n    const canSend = React.useMemo(() => {\n        if (socketStore.isSocketIO && !socketIOEvent) {\n            return false\n        }\n        return socketStore.socketIsConnected\n    }, [socketStore.isSocketIO, socketIOEvent, socketStore.socketIsConnected])\n\n    const sendingContent = React.useMemo(\n        () => (socketStore.dataFormat === DATA_FORMATS[0] ? jsonContent : textContent),\n        [socketStore.dataFormat, jsonContent, textContent]\n    )\n\n    function toggleModalVisible() {\n        setModalVisible(visible => !visible)\n    }\n\n    function handleOK() {\n        try {\n            setJsonContent(JSON.parse(content))\n            toggleModalVisible()\n        } catch (err) {\n            console.error(err)\n            message.destroy()\n            message.error('Please input json string!')\n        }\n    }\n\n    function handleSubmit() {\n        if (!socketStore.isSocketIO) {\n            return send(null, sendingContent)\n        } else if (!socketIOEvent) {\n            message.destroy()\n            return message.error('Please input event name!')\n        }\n        if (!socketIOEvents.includes(socketIOEvent)) {\n            const newSocketIOEvents = [socketIOEvent, ...socketIOEvents]\n            setSocketIOEvents(newSocketIOEvents)\n            localStorage.setItem(LOCALSTORAGE_KEYS.SOCKET_IO_EVENTS, JSON.stringify(newSocketIOEvents))\n        }\n        send(socketIOEvent, sendingContent)\n    }\n\n    return (\n        <div>\n            {socketStore.isSocketIO && (\n                <AutoComplete\n                    className={styles.autoComplete}\n                    dataSource={socketIOEvents}\n                    placeholder=\"Input event name\"\n                    value={socketIOEvent}\n                    onChange={e => setSocketIOEvent(e as string)}\n                    filterOption={(inputValue, option) =>\n                        (option.props.children as string).toUpperCase().includes(inputValue.toUpperCase())\n                    }\n                />\n            )}\n            {socketStore.dataFormat === DATA_FORMATS[0] ? (\n                <div className={styles.content}>\n                    <div className={styles.reset}>\n                        <Popconfirm placement=\"topLeft\" title=\"Confirm to reset?\" onConfirm={() => setJsonContent({})}>\n                            <Button>Reset</Button>\n                        </Popconfirm>\n                        <Button className={styles.btnCover} type=\"primary\" onClick={toggleModalVisible}>\n                            Custom\n                        </Button>\n                        <Modal\n                            title=\"Custom data\"\n                            style={{ top: 20 }}\n                            visible={modalVisible}\n                            onOk={handleOK}\n                            onCancel={toggleModalVisible}\n                        >\n                            <Input.TextArea\n                                placeholder=\"Please input json string\"\n                                autosize={{ minRows: 4, maxRows: 10 }}\n                                value={content}\n                                onChange={({ target }) => setContent(target.value)}\n                            />\n                        </Modal>\n                    </div>\n                    <ReactJson\n                        name={false}\n                        theme=\"monokai\"\n                        style={{\n                            padding: 10,\n                            minHeight: 150,\n                            maxHeight: 500,\n                            overflow: 'auto',\n                            borderRadius: 3,\n                            wordWrap: 'break-word',\n                            wordBreak: 'break-all'\n                        }}\n                        onAdd={({ updated_src }) => setJsonContent(updated_src)}\n                        onEdit={({ updated_src }) => setJsonContent(updated_src)}\n                        onDelete={({ updated_src }) => setJsonContent(updated_src)}\n                        src={jsonContent}\n                    />\n                </div>\n            ) : (\n                <Input.TextArea\n                    className={styles.textContent}\n                    placeholder=\"Input your sending content\"\n                    autosize={{ minRows: 4, maxRows: 10 }}\n                    value={textContent}\n                    onChange={({ target }) => setTextContent(target.value)}\n                />\n            )}\n            <Button block size=\"large\" disabled={!canSend} type=\"primary\" onClick={handleSubmit}>\n                Send\n            </Button>\n        </div>\n    )\n}\n\nexport default observer(Send)\n"]}]}